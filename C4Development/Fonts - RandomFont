//
//  CFACanvas.h
//  CodeSamples
//
//	A Cocoa For Artists project
//  Created by Travis Kirton
//

#import <Cocoa/Cocoa.h>

@implementation CFACanvas

NSArray *allFontNames;

-(void)setup {
[self windowWidth:400 andHeight:320];

allFontNames = [[CFAFont availableFonts] retain];
}

-(void)draw {
[self background:0];

NSInteger rand = [CFAMath randomInt:[allFontNames count]];

CFAString *fontName = [allFontNames objectAtIndex:rand];
CFAFont *currentFont = [CFAFont fontWithName:fontName size:16];

[CFAString font:currentFont];
[CFAString fill:1.0f];

NSPoint drawPoint = NSMakePoint(20, self.centerPos.y - 2* [currentFont ascender]);

[[CFAString stringWithFormat:
@"Current Font: %@ \nFamily Name: %@ \nDisplay Name: %@ \n#%d of %d", 
fontName, [currentFont familyName], 
[currentFont displayName], 
rand, [allFontNames count]] drawAtPoint:drawPoint];
}

-(void)mousePressed {
[self redraw];
}
@end